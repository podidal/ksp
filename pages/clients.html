<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–æ–º—Ñ–æ—Ä—Ç –°–µ—Ä–≤–∏—Å –ü–ª—é—Å - –ö–ª–∏–µ–Ω—Ç—ã</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    body {
      font-family: 'Roboto', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
    }
    
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      background: linear-gradient(to right, #1a237e, #283593);
      color: white;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .brand {
      font-weight: bold;
      font-size: 18px;
    }
    
    .user-info {
      display: flex;
      align-items: center;
    }
    
    .menu-toggle {
      margin-left: 15px;
      cursor: pointer;
    }
    
    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 0 15px;
    }
    
    .add-client-btn {
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #4285F4;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      text-align: center;
      margin: 20px 0;
    }
    
    .client-card {
      background-color: white;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    
    .client-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .client-name {
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    .client-phone {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
    }
    
    .client-date {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
    }
    
    .client-status {
      margin-top: 5px;
    }
    
    .call-icon {
      color: #4285F4;
      cursor: pointer;
    }
    
    .address-icon {
      color: #4285F4;
      cursor: pointer;
    }
    
    .logout-btn {
      background-color: transparent;
      border: 1px solid white;
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
      margin-right: 10px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .logout-btn:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .no-clients {
      text-align: center;
      padding: 40px 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .side-menu {
      position: fixed;
      top: 0;
      right: -300px;
      width: 300px;
      height: 100%;
      background-color: white;
      box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
      transition: right 0.3s ease;
      z-index: 1000;
      overflow-y: auto;
    }
    
    .side-menu.open {
      right: 0;
    }
    
    .menu-header {
      background: linear-gradient(to right, #1a237e, #283593);
      color: white;
      padding: 20px;
    }
    
    .menu-close {
      position: absolute;
      top: 20px;
      right: 20px;
      cursor: pointer;
      font-size: 20px;
    }
    
    .menu-user {
      margin-bottom: 15px;
    }
    
    .menu-email {
      font-size: 14px;
      opacity: 0.8;
    }
    
    .menu-items {
      padding: 20px;
    }
    
    .menu-item {
      padding: 15px 0;
      border-bottom: 1px solid #eee;
      cursor: pointer;
      display: flex;
      align-items: center;
    }
    
    .menu-item:last-child {
      border-bottom: none;
    }
    
    .menu-icon {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }
    
    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      z-index: 999;
    }
    
    .menu-overlay.open {
      display: block;
    }
  </style>
  <!-- Firebase App (the core Firebase SDK) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <!-- Firebase Auth -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
</head>
<body>
  <div class="header">
    <div class="brand">–ö–æ–º—Ñ–æ—Ä—Ç –°–µ—Ä–≤–∏—Å –ü–ª—é—Å</div>
    <div class="user-info">
      <button class="logout-btn" id="logoutButton">–í—ã–π—Ç–∏</button>
      <span id="userName">üë§ –ó–∞–≥—Ä—É–∑–∫–∞...</span>
      <div class="menu-toggle">‚ò∞</div>
    </div>
  </div>
  
  <div class="container">
    <button class="add-client-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞</button>
    
    <div id="clientsList">
      <div class="client-card">
        <div class="client-name">üë§ –ö–∞—á–∞–Ω –î.–Æ–≤–∞–Ω</div>
        <div class="client-phone">
          <span>üì± +380501234567</span>
          <span class="call-icon">üìû</span>
        </div>
        <div class="client-date">
          <span>üìÖ 15.03.2024</span>
          <span class="address-icon">üìç</span>
        </div>
        <div class="client-status">–°—Ç–∞—Ç—É—Å: –ó–∞–º–µ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω</div>
      </div>
      
      <div class="client-card">
        <div class="client-name">üë§ –°–∏–¥–æ—Ä–æ–≤ –ü–µ—Ç—Ä</div>
        <div class="client-phone">
          <span>üì± +380679876543</span>
          <span class="call-icon">üìû</span>
        </div>
        <div class="client-date">
          <span>üìÖ 12.03.2024</span>
          <span class="address-icon">üìç</span>
        </div>
        <div class="client-status">–°—Ç–∞—Ç—É—Å: –°–º–µ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞</div>
      </div>
      
      <div class="client-card">
        <div class="client-name">üë§ –ò–≤–∞–Ω–æ–≤–∞ –ú–∞—Ä–∏—è</div>
        <div class="client-phone">
          <span>üì± +380504445566</span>
          <span class="call-icon">üìû</span>
        </div>
        <div class="client-date">
          <span>üìÖ 10.03.2024</span>
          <span class="address-icon">üìç</span>
        </div>
        <div class="client-status">–°—Ç–∞—Ç—É—Å: –ó–∞–∫–∞–∑ –∑–∞–≤–µ—Ä—à–µ–Ω</div>
      </div>
    </div>
  </div>
  
  <!-- Side Menu -->
  <div class="menu-overlay"></div>
  <div class="side-menu">
    <div class="menu-header">
      <div class="menu-close">‚úï</div>
      <div class="menu-user" id="menuUserName">üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
      <div class="menu-email" id="menuUserEmail">email@example.com</div>
    </div>
    <div class="menu-items">
      <div class="menu-item" data-page="clients.html">
        <div class="menu-icon">üè†</div>
        <div>–ì–ª–∞–≤–Ω–∞—è</div>
      </div>
      <div class="menu-item" data-page="clients.html">
        <div class="menu-icon">üë•</div>
        <div>–ö–ª–∏–µ–Ω—Ç—ã</div>
      </div>
      <div class="menu-item" data-page="statistics.html">
        <div class="menu-icon">üìä</div>
        <div>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
      </div>
      <div class="menu-item" data-page="settings.html">
        <div class="menu-icon">‚öôÔ∏è</div>
        <div>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
      </div>
      <div class="menu-item" id="logoutMenuItem">
        <div class="menu-icon">üö™</div>
        <div>–í—ã–π—Ç–∏</div>
      </div>
    </div>
  </div>
  
  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyAGGpNFxQ1bfY4ViSdNM7uOBuk7u_cyxtk",
      authDomain: "ksplus-60132.firebaseapp.com",
      projectId: "ksplus-60132",
      storageBucket: "ksplus-60132.appspot.com",
      messagingSenderId: "1037863910173",
      appId: "1:1037863910173:web:76bebcb7310eaa78a23ff4"
    };
    
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    
    // Check authentication state
    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // User is signed in
        document.getElementById('userName').textContent = 'üë§ ' + (user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å');
        document.getElementById('menuUserName').textContent = 'üë§ ' + (user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å');
        document.getElementById('menuUserEmail').textContent = user.email || '';
      } else {
        // No user is signed in, redirect to login
        window.location.href = 'login.html';
      }
    });
    
    // Logout functionality
    document.getElementById('logoutButton').addEventListener('click', function() {
      firebase.auth().signOut().then(function() {
        // Sign-out successful, redirect to login
        window.location.href = 'login.html';
      }).catch(function(error) {
        // An error happened
        console.error('Error signing out:', error);
      });
    });
    
    document.getElementById('logoutMenuItem').addEventListener('click', function() {
      firebase.auth().signOut().then(function() {
        // Sign-out successful, redirect to login
        window.location.href = 'login.html';
      }).catch(function(error) {
        // An error happened
        console.error('Error signing out:', error);
      });
    });
    
    // Add client button functionality
    document.querySelector('.add-client-btn').addEventListener('click', function() {
      window.location.href = 'add-client.html';
    });
    
    // Client card click functionality
    document.querySelectorAll('.client-card').forEach(card => {
      card.addEventListener('click', function(e) {
        // Don't navigate if clicking on call or map icons
        if (!e.target.classList.contains('call-icon') && !e.target.classList.contains('address-icon')) {
          const clientName = this.querySelector('.client-name').textContent.substring(2); // Remove emoji
          window.location.href = 'client-details.html?name=' + encodeURIComponent(clientName);
        }
      });
    });
    
    // Call icon functionality
    document.querySelectorAll('.call-icon').forEach(icon => {
      icon.addEventListener('click', function(e) {
        e.stopPropagation();
        const phone = this.parentElement.querySelector('span').textContent.substring(2); // Remove emoji
        window.location.href = 'tel:' + phone;
      });
    });
    
    // Address icon functionality
    document.querySelectorAll('.address-icon').forEach(icon => {
      icon.addEventListener('click', function(e) {
        e.stopPropagation();
        // This would open maps with the client's address
        alert('–û—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç—ã —Å –∞–¥—Ä–µ—Å–æ–º –∫–ª–∏–µ–Ω—Ç–∞');
      });
    });
    
    // Menu toggle functionality
    const menuToggle = document.querySelector('.menu-toggle');
    const sideMenu = document.querySelector('.side-menu');
    const menuOverlay = document.querySelector('.menu-overlay');
    const menuClose = document.querySelector('.menu-close');
    
    menuToggle.addEventListener('click', function() {
      sideMenu.classList.add('open');
      menuOverlay.classList.add('open');
    });
    
    menuClose.addEventListener('click', function() {
      sideMenu.classList.remove('open');
      menuOverlay.classList.remove('open');
    });
    
    menuOverlay.addEventListener('click', function() {
      sideMenu.classList.remove('open');
      menuOverlay.classList.remove('open');
    });
    
    // Menu item navigation
    document.querySelectorAll('.menu-item[data-page]').forEach(item => {
      item.addEventListener('click', function() {
        const page = this.getAttribute('data-page');
        window.location.href = page;
      });
    });
  </script>
</body>
</html> 