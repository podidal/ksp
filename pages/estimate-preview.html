<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Film Manager Pro - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–º–µ—Ç—ã</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
    }
    
    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .estimate-title {
      text-align: center;
      font-size: 24px;
      margin-bottom: 20px;
      font-weight: bold;
    }
    
    .client-info {
      margin-bottom: 20px;
    }
    
    .client-info-item {
      margin-bottom: 5px;
    }
    
    .details-box {
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      margin-bottom: 20px;
    }
    
    .details-title {
      font-weight: bold;
      margin-bottom: 10px;
    }
    
    .details-item {
      margin-bottom: 5px;
    }
    
    .cost-section {
      margin-bottom: 20px;
    }
    
    .cost-item {
      margin-bottom: 5px;
    }
    
    .cost-divider {
      height: 1px;
      background-color: #ddd;
      margin: 10px 0;
    }
    
    .total-cost {
      font-weight: bold;
      margin-bottom: 20px;
    }
    
    .additional-info {
      margin-bottom: 20px;
    }
    
    .company-info {
      text-align: center;
      margin-bottom: 20px;
    }
    
    .actions {
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    
    .action-button {
      padding: 10px 20px;
      background-color: #4285F4;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="estimate-title">–°–ú–ï–¢–ê</div>
    
    <div class="client-info">
      <div class="client-info-item">–ö–ª–∏–µ–Ω—Ç: –ö–∞—á–∞–Ω –î.–Æ–≤–∞–Ω</div>
      <div class="client-info-item">–¢–µ–ª–µ—Ñ–æ–Ω: +380501234567</div>
      <div class="client-info-item">–ê–¥—Ä–µ—Å: –≥. –ö–∏–µ–≤, —É–ª. –ö—Ä–µ—â–∞—Ç–∏–∫, 15</div>
      <div class="client-info-item">–î–∞—Ç–∞: <span id="current-date"></span></div>
    </div>
    
    <div class="details-box">
      <div class="details-title">–î–ï–¢–ê–õ–ò –ó–ê–ö–ê–ó–ê:</div>
      <div class="details-item">‚Ä¢ –û–∫–Ω–æ 800√ó600–º–º - 2 —à—Ç</div>
      <div class="details-item">‚Ä¢ –û–∫–Ω–æ 1200√ó800–º–º - 1 —à—Ç</div>
      <div class="details-item">‚Ä¢ –û–∫–Ω–æ 600√ó400–º–º - 3 —à—Ç</div>
      <div class="details-item">&nbsp;</div>
      <div class="details-item">–û–±—â–∞—è –ø–ª–æ—â–∞–¥—å: <span id="total-area">2.64</span> –º¬≤</div>
      <div class="details-item">–ú–∞—Ç–µ—Ä–∏–∞–ª: <span id="material-type">Silver 15</span></div>
    </div>
    
    <div class="cost-section">
      <div class="cost-title">–°–¢–û–ò–ú–û–°–¢–¨:</div>
      <div class="cost-item">–ú–∞—Ç–µ—Ä–∏–∞–ª (<span id="area-calc">2.64–º¬≤√ó380‚Ç¥</span>): <span id="material-cost">1,003‚Ç¥</span></div>
      <div class="cost-item">–†–∞–±–æ—Ç–∞ (<span id="work-calc">2.64–º¬≤√ó250‚Ç¥</span>): <span id="work-cost">660‚Ç¥</span></div>
      <div class="cost-item">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: <span id="additional-cost">500‚Ç¥</span></div>
      <div class="cost-divider"></div>
      <div class="total-cost">–ò–¢–û–ì–û: <span id="total-cost">2,163‚Ç¥</span></div>
    </div>
    
    <div class="additional-info">
      <div>–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 1-2 –¥–Ω—è</div>
      <div>–ì–∞—Ä–∞–Ω—Ç–∏—è: 2 –≥–æ–¥–∞</div>
    </div>
    
    <div class="company-info">
      <div>Film Manager Pro</div>
      <div>+380501112233</div>
    </div>
    
    <div class="actions">
      <button class="action-button print-button">üñ®Ô∏è –ü–µ—á–∞—Ç—å</button>
      <button class="action-button send-button">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
  </div>
  
  <script>
    // Set current date
    const now = new Date();
    const formattedDate = now.getDate().toString().padStart(2, '0') + '.' + 
                          (now.getMonth() + 1).toString().padStart(2, '0') + '.' + 
                          now.getFullYear();
    document.getElementById('current-date').textContent = formattedDate;
    
    // Get estimate data from localStorage
    const area = parseFloat(localStorage.getItem('estimateArea')) || 2.64;
    const materialName = localStorage.getItem('estimateMaterial') || 'Silver 15 (380‚Ç¥/–º¬≤)';
    const total = parseFloat(localStorage.getItem('estimateTotal')) || 2163;
    
    // Update the DOM with the data
    document.getElementById('total-area').textContent = area.toFixed(2);
    document.getElementById('material-type').textContent = materialName.split(' (')[0];
    
    // Extract material price from the material name
    const materialPriceMatch = materialName.match(/\((\d+)‚Ç¥\/–º¬≤\)/);
    const materialPrice = materialPriceMatch ? parseInt(materialPriceMatch[1]) : 380;
    
    const materialCost = area * materialPrice;
    const workPrice = 250; // Default work price
    const workCost = area * workPrice;
    const additionalCost = total - materialCost - workCost;
    
    document.getElementById('area-calc').textContent = `${area.toFixed(2)}–º¬≤√ó${materialPrice}‚Ç¥`;
    document.getElementById('material-cost').textContent = `${materialCost.toLocaleString()}‚Ç¥`;
    document.getElementById('work-calc').textContent = `${area.toFixed(2)}–º¬≤√ó${workPrice}‚Ç¥`;
    document.getElementById('work-cost').textContent = `${workCost.toLocaleString()}‚Ç¥`;
    document.getElementById('additional-cost').textContent = `${additionalCost.toLocaleString()}‚Ç¥`;
    document.getElementById('total-cost').textContent = `${total.toLocaleString()}‚Ç¥`;
    
    // Print functionality
    document.querySelector('.print-button').addEventListener('click', function() {
      window.print();
    });
    
    // Send functionality
    document.querySelector('.send-button').addEventListener('click', function() {
      // This would normally show a menu of ways to send the estimate
      alert('–í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–º–µ—Ç—ã –∫–ª–∏–µ–Ω—Ç—É');
    });
  </script>
</body>
</html> 