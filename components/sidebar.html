<!-- Side Menu Component -->
<div class="side-menu" id="sideMenu">
  <div class="menu-header">
    <h2>Film Manager Pro</h2>
    <div id="userInfo">
      <p id="userName">ğŸ‘¤ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</p>
      <p id="userEmail"></p>
    </div>
  </div>

  <a href="index.html" class="menu-item">
    <span>ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</span>
  </a>
  <a href="clients.html" class="menu-item">
    <span>ğŸ‘¥ ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹</span>
  </a>
  <a href="statistics.html" class="menu-item">
    <span>ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°</span>
  </a>
  <a href="settings.html" class="menu-item">
    <span>âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸</span>
  </a>

  <div class="menu-divider"></div>

  <a href="about.html" class="menu-item">
    <span>ğŸ“± Ğ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸</span>
  </a>
  <a href="#" class="menu-item" id="logoutBtn">
    <span>ğŸšª Ğ’Ñ‹Ğ¹Ñ‚Ğ¸</span>
  </a>
</div>

<!-- Overlay for closing the menu -->
<div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>

<script>
  // This script will be evaluated by the parent page
  (function() {
    // Set up logout button
    document.getElementById('logoutBtn').addEventListener('click', function(e) {
      e.preventDefault();
      
      // Check if Firebase is initialized by the parent page
      if (window.firebase && firebase.auth) {
        firebase.auth().signOut().then(function() {
          // Sign-out successful, redirect to login
          window.location.href = 'login.html';
        }).catch(function(error) {
          // An error happened
          console.error('Error signing out:', error);
        });
      } else {
        console.error('Firebase Auth not available');
      }
    });
    
    // Update user info if Firebase auth is available
    if (window.firebase && firebase.auth) {
      firebase.auth().onAuthStateChanged(function(user) {
        const userName = document.getElementById('userName');
        const userEmail = document.getElementById('userEmail');
        
        if (user) {
          // Display user info
          userName.textContent = `ğŸ‘¤ ${user.displayName || 'ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ'}`;
          userEmail.textContent = user.email || '';
        } else {
          // Reset to default
          userName.textContent = 'ğŸ‘¤ ĞĞµ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½';
          userEmail.textContent = '';
        }
      });
    }
  })();
</script> 